define("echarts2/data/Tree",["require","zrender2/tool/util"],function(a){function b(a,b){this.id=a,this.depth=0,this.height=0,this.children=[],this.parent=null,this.data=b||null}function c(a){this.root=new b(a)}var d=a("zrender2/tool/util");return b.prototype.add=function(a){var b=this.children;a.parent!==this&&(b.push(a),a.parent=this)},b.prototype.remove=function(a){var b=this.children,c=d.indexOf(b,a);c>=0&&(b.splice(c,1),a.parent=null)},b.prototype.traverse=function(a,b){a.call(b,this);for(var c=0;c<this.children.length;c++)this.children[c].traverse(a,b)},b.prototype.updateDepthAndHeight=function(a){var b=0;this.depth=a;for(var c=0;c<this.children.length;c++){var d=this.children[c];d.updateDepthAndHeight(a+1),d.height>b&&(b=d.height)}this.height=b+1},b.prototype.getNodeById=function(a){if(this.id===a)return this;for(var b=0;b<this.children.length;b++){var c=this.children[b].getNodeById(a);if(c)return c}},c.prototype.traverse=function(a,b){this.root.traverse(a,b)},c.prototype.getSubTree=function(a){var b=this.getNodeById(a);if(b){var d=new c(b.id);return d.root=b,d}},c.prototype.getNodeById=function(a){return this.root.getNodeById(a)},c.fromOptionData=function(a,d){function e(a,c){var d=new b(a.name,a);c.add(d);var f=a.children;if(f)for(var g=0;g<f.length;g++)e(f[g],d)}var f=new c(a),g=f.root;g.data={name:a,children:d};for(var h=0;h<d.length;h++)e(d[h],g);return f.root.updateDepthAndHeight(0),f},c.fromGraph=function(a){function d(b){for(var c=a.getNodeById(b.id),e=0;e<c.outEdges.length;e++){var g=c.outEdges[e],h=f[g.node2.id];b.children.push(h),d(h)}}for(var e={},f={},g=0;g<a.nodes.length;g++){var h,i=a.nodes[g];0===i.inDegree()?(e[i.id]=new c(i.id),h=e[i.id].root):h=new b(i.id),h.data=i.data,f[i.id]=h}var j=[];for(var k in e)d(e[k].root),e[k].root.updateDepthAndHeight(0),j.push(e[k]);return j},c});